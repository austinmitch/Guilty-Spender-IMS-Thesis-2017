<ion-view>
  <ion-content>
    <div class="content">
      <div class="profileImage">
        <img ng-src="img/{{profileDetails.user_image}}" alt="">
      </div>
      <div class="userName">
        <h2>{{profileDetails.username}}</h2>
      </div>
      <!-- form for editing username and profile image. uncomment and style if time allows -->
      <!-- <form class="" action="http://localhost:3000/users/api/profile" method="post" enctype="multipart/form-data">
        <label for="infoUpdate">
          <input type="file" name="profilePic" id="infoUpdate" value="">
        </label>
        <label for="username">Username</label>
        <input type="text" name="username" value="">
        <input type="submit" name="submit" value="Submit">
      </form> -->

      <div class="details">
        <table>
          <tr class="rowHeading" ng-click="showIncome = !showIncome">
            <th>Income</th>
          </tr>
            <tr ng-repeat="income in profileDetails.user_income" ng-show="!showIncome">
            <td>${{income.income_total}}</td>
            <td>{{income.income_frequency}} times a month</td>
          </tr>
          <tr class="rowHeading" ng-click="showRemain = !showRemain">
            <th>Money Left</th>
          </tr>
          <tr ng-show="!showRemain">
            <td>${{estimatedRemain}}</td>
          </tr>
          <tr class="rowHeading" ng-click="showExpense = !showExpense">
            <th>Expense</th>
          </tr>
          <tr ng-click="showDelete = !showDelete" ng-repeat="expense in profileDetails.user_expenses" ng-show="!showExpense">
            <td>{{expense.expense_name}}</td>
            <td>${{expense.expense_price}}</td>
            <td ng-show="showDelete">
              <button type="button" ng-click="delete('{{expense._id}}')">delete</button>
            </td>
          </tr>
        </table>
      </div>
      <button type="button" name="button" ng-click="openInfo()">Edit Info</button>
    </div>
  </ion-content>
</ion-view>
